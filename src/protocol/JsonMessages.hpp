#pragma once

#include <cstdint>
#include <string>
#include <vector>

#include "core/Types.hpp"

// РљР»РёРµРЅС‚ -> РЎРµСЂРІРµСЂ: РЅР°С‡Р°Р»СЊРЅР°СЏ СЂРµРіРёСЃС‚СЂР°С†РёСЏ РїРѕСЃР»Рµ РїРѕРґРєР»СЋС‡РµРЅРёСЏ РїРѕ websocket.
struct ClientRegisterRequest
{
    std::string type = "register";      // РўРёРї СЃРѕРѕР±С‰РµРЅРёСЏ: "register".
    std::string publicKey;              // РћС‚РєСЂС‹С‚С‹Р№ РєР»СЋС‡ РєР»РёРµРЅС‚Р° РІ РІРёРґРµ РїСЂРѕСЃС‚РѕРіРѕ С‚РµРєСЃС‚Р° РґР»СЏ С‚РµРєСѓС‰РµРіРѕ СѓРїСЂРѕС‰С‘РЅРЅРѕРіРѕ РїРѕС‚РѕРєР°.
    std::string username;               // РћС‚РѕР±СЂР°Р¶Р°РµРјРѕРµ РёРјСЏ; РјРѕР¶РµС‚ Р±С‹С‚СЊ РїСѓСЃС‚С‹Рј.
    std::string clientVersion;          // Р’РµСЂСЃРёСЏ РєР»РёРµРЅС‚СЃРєРѕРіРѕ РїСЂРёР»РѕР¶РµРЅРёСЏ; РјРѕР¶РµС‚ Р±С‹С‚СЊ РїСѓСЃС‚РѕР№.
};

// РљР»РёРµРЅС‚ -> РЎРµСЂРІРµСЂ: РѕС‚РїСЂР°РІРєР° СЃРѕРѕР±С‰РµРЅРёСЏ РІ РєРѕРјРЅР°С‚Сѓ.
struct ClientChatMessageRequest
{
    std::string type = "chat-msg";      // РўРёРї СЃРѕРѕР±С‰РµРЅРёСЏ: "chat-msg".
    IDType userId = 0;                  // ID РѕС‚РїСЂР°РІРёС‚РµР»СЏ, РїРѕР»СѓС‡РµРЅРЅС‹Р№ РїРѕСЃР»Рµ СЂРµРіРёСЃС‚СЂР°С†РёРё.
    IDType chatId = 0;                  // ID С†РµР»РµРІРѕР№ РєРѕРјРЅР°С‚С‹.
    std::string message;                // РўРµРєСЃС‚ СЃРѕРѕР±С‰РµРЅРёСЏ; РїРѕРєР° РјРѕР¶РµС‚ Р±С‹С‚СЊ РїСѓСЃС‚С‹Рј.
    std::uint64_t clientMessageId = 0;  // РћРїС†РёРѕРЅР°Р»СЊРЅС‹Р№ ID СЃРѕРѕР±С‰РµРЅРёСЏ СЃРѕ СЃС‚РѕСЂРѕРЅС‹ РєР»РёРµРЅС‚Р°; 0 РѕР·РЅР°С‡Р°РµС‚, С‡С‚Рѕ РЅРµ СѓРєР°Р·Р°РЅ.
};

// РљР»РёРµРЅС‚ -> РЎРµСЂРІРµСЂ: СЃРѕР·РґР°РЅРёРµ РЅРѕРІРѕР№ РєРѕРјРЅР°С‚С‹ СЃ РІС‹Р±СЂР°РЅРЅС‹РјРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏРјРё.
struct ClientCreateRoomRequest
{
    std::string type = "create-room";        // РўРёРї СЃРѕРѕР±С‰РµРЅРёСЏ: "create-room".
    IDType userId = 0;                       // ID РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ, СЃРѕР·РґР°СЋС‰РµРіРѕ РєРѕРјРЅР°С‚Сѓ.
    std::vector<IDType> participantUserIds;  // РџРѕР»СЊР·РѕРІР°С‚РµР»Рё, РєРѕС‚РѕСЂС‹С… РЅСѓР¶РЅРѕ РІРєР»СЋС‡РёС‚СЊ РІ РєРѕРјРЅР°С‚Сѓ.
    bool isPrivate = true;                   // true = РїСЂРёРІР°С‚РЅР°СЏ РєРѕРјРЅР°С‚Р°, false = РїСѓР±Р»РёС‡РЅР°СЏ РєРѕРјРЅР°С‚Р°.
};

// РљР»РёРµРЅС‚ -> РЎРµСЂРІРµСЂ: РІС‹С…РѕРґ РёР· СЃСѓС‰РµСЃС‚РІСѓСЋС‰РµР№ РєРѕРјРЅР°С‚С‹.
struct ClientLeaveRoomRequest
{
    std::string type = "leave-room";     // РўРёРї СЃРѕРѕР±С‰РµРЅРёСЏ: "leave-room".
    IDType userId = 0;                   // РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ, Р¶РµР»Р°СЋС‰РёР№ РїРѕРєРёРЅСѓС‚СЊ РєРѕРјРЅР°С‚Сѓ.
    IDType chatId = 0;                   // ID РєРѕРјРЅР°С‚С‹, РєРѕС‚РѕСЂСѓСЋ РЅСѓР¶РЅРѕ РїРѕРєРёРЅСѓС‚СЊ.
};

// РЎРµСЂРІРµСЂ -> РљР»РёРµРЅС‚: РѕС‚РїСЂР°РІР»СЏРµС‚СЃСЏ СЃСЂР°Р·Сѓ РїРѕСЃР»Рµ РѕС‚РєСЂС‹С‚РёСЏ websocket РґРѕ СЂРµРіРёСЃС‚СЂР°С†РёРё.
struct ServerHelloPayload
{
    std::string type = "hello";               // РўРёРї СЃРѕРѕР±С‰РµРЅРёСЏ: "hello".
    bool authorized = false;                  // false РґРѕ СѓСЃРїРµС€РЅРѕР№ СЂРµРіРёСЃС‚СЂР°С†РёРё.
    std::uint32_t registrationTimeoutSeconds; // РњР°РєСЃРёРјР°Р»СЊРЅРѕРµ РІСЂРµРјСЏ РІ СЃРµРєСѓРЅРґР°С… РґР»СЏ Р·Р°РІРµСЂС€РµРЅРёСЏ СЂРµРіРёСЃС‚СЂР°С†РёРё.
    std::string serverName;                   // Р§РµР»РѕРІРµРєРѕС‡РёС‚Р°РµРјРѕРµ РёРјСЏ СЃРµСЂРІРµСЂР°.
};

// РЎРµСЂРІРµСЂ -> РљР»РёРµРЅС‚: СЂРµР·СѓР»СЊС‚Р°С‚ СЂРµРіРёСЃС‚СЂР°С†РёРё.
struct ServerRegistrationPayload
{
    std::string type = "register-result"; // Message kind: "register-result".
    bool registered = false;             // РЎС‚Р°С‚СѓСЃ СЂРµРіРёСЃС‚СЂР°С†РёРё: true = СѓСЃРїРµС€РЅРѕ, false = РѕС€РёР±РєР°.
    IDType userId = 0;                   // РџСЂРёСЃРІРѕРµРЅРЅС‹Р№ ID РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ РїСЂРё СѓСЃРїРµС€РЅРѕР№ СЂРµРіРёСЃС‚СЂР°С†РёРё.
    std::string serverPublicKey;         // Р—Р°РіР»СѓС€РєР° РѕС‚РєСЂС‹С‚РѕРіРѕ РєР»СЋС‡Р° СЃРµСЂРІРµСЂР°.
    std::vector<IDType> usersChats;      // ID РєРѕРјРЅР°С‚, РІ РєРѕС‚РѕСЂС‹С… РїРѕР»СЊР·РѕРІР°С‚РµР»СЊ СЃРµР№С‡Р°СЃ СѓС‡Р°СЃС‚РІСѓРµС‚.
    std::string serverName;              // Р§РµР»РѕРІРµРєРѕС‡РёС‚Р°РµРјРѕРµ РёРјСЏ СЃРµСЂРІРµСЂР°.
    std::string protocolVersion = "1.0"; // Р’РµСЂСЃРёСЏ РїСЂРѕС‚РѕРєРѕР»Р°, СЃРµР№С‡Р°СЃ "1.0".
};

// РЎРµСЂРІРµСЂ -> РљР»РёРµРЅС‚: РѕР±С‰Р°СЏ РѕС€РёР±РєР° РґР»СЏ РЅРµРєРѕСЂСЂРµРєС‚РЅС‹С… Р·Р°РїСЂРѕСЃРѕРІ.
struct ServerErrorPayload
{
    std::string type = "error";          // РўРёРї СЃРѕРѕР±С‰РµРЅРёСЏ: "error".
    std::string code;                    // РњР°С€РёРЅРѕС‡РёС‚Р°РµРјС‹Р№ РєРѕРґ РѕС€РёР±РєРё.
    std::string message;                 // Р§РµР»РѕРІРµРєРѕС‡РёС‚Р°РµРјРѕРµ РѕРїРёСЃР°РЅРёРµ РѕС€РёР±РєРё.
};

// РЎРµСЂРІРµСЂ -> РљР»РёРµРЅС‚: С€РёСЂРѕРєРѕРІРµС‰Р°С‚РµР»СЊРЅР°СЏ СЂР°СЃСЃС‹Р»РєР° СЃРѕРѕР±С‰РµРЅРёСЏ РІ С‡Р°С‚Рµ.
struct ServerChatMessagePayload
{
    std::string type = "chat-msg";       // РўРёРї СЃРѕРѕР±С‰РµРЅРёСЏ: "chat-msg".
    IDType userId = 0;                   // ID РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ-РѕС‚РїСЂР°РІРёС‚РµР»СЏ.
    IDType chatId = 0;                   // ID РєРѕРјРЅР°С‚С‹, РІ РєРѕС‚РѕСЂСѓСЋ РѕС‚РїСЂР°РІР»РµРЅРѕ СЃРѕРѕР±С‰РµРЅРёРµ.
    std::string message;                 // РўРµРєСЃС‚ СЃРѕРѕР±С‰РµРЅРёСЏ.
    std::uint64_t serverMessageId = 0;   // РњРѕРЅРѕС‚РѕРЅРЅРѕ РІРѕР·СЂР°СЃС‚Р°СЋС‰РёР№ ID СЃРѕРѕР±С‰РµРЅРёСЏ РЅР° СЃС‚РѕСЂРѕРЅРµ СЃРµСЂРІРµСЂР°.
};

// РЎРµСЂРІРµСЂ -> РљР»РёРµРЅС‚: РѕС‚РІРµС‚ РЅР° СЃРѕР·РґР°РЅРёРµ РєРѕРјРЅР°С‚С‹.
struct ServerRoomCreatedPayload
{
    std::string type = "room-created";       // РўРёРї СЃРѕРѕР±С‰РµРЅРёСЏ: "room-created".
    bool created = false;                    // true, РµСЃР»Рё РєРѕРјРЅР°С‚Р° СЃРѕР·РґР°РЅР°.
    IDType chatId = 0;                       // ID РЅРѕРІРѕР№ РєРѕРјРЅР°С‚С‹.
    std::vector<IDType> participantUserIds;  // Р¤Р°РєС‚РёС‡РµСЃРєРёРµ ID СѓС‡Р°СЃС‚РЅРёРєРѕРІ, РґРѕР±Р°РІР»РµРЅРЅС‹С… РІ РєРѕРјРЅР°С‚Сѓ.
};

// РЎРµСЂРІРµСЂ -> РљР»РёРµРЅС‚: РѕС‚РІРµС‚ РЅР° РІС‹С…РѕРґ РёР· РєРѕРјРЅР°С‚С‹.
struct ServerRoomLeftPayload
{
    std::string type = "room-left";      // РўРёРї СЃРѕРѕР±С‰РµРЅРёСЏ: "room-left".
    bool left = false;                   // true, РµСЃР»Рё РїРѕР»СЊР·РѕРІР°С‚РµР»СЊ РїРѕРєРёРЅСѓР» РєРѕРјРЅР°С‚Сѓ.
    IDType userId = 0;                   // ID РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ, РїРѕРєРёРЅСѓРІС€РµРіРѕ РєРѕРјРЅР°С‚Сѓ.
    IDType chatId = 0;                   // ID РєРѕРјРЅР°С‚С‹.
};
